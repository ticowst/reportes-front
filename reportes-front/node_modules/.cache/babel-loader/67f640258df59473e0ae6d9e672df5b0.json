{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TicowST\\\\Desktop\\\\TCS03\\\\sigapdev-reports-front-master\\\\src\\\\ComponentesHechos\\\\RelacionAlumnos\\\\RelacionAlumnos.js\";\n//Importamos las librerias\nimport React, { Component } from 'react';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport CanvasJSReact, { CanvasJS } from './../../canvasjs.react';\nimport Parser from 'html-react-parser';\nimport html2canvas from 'html2canvas';\nimport Pdf from '../Pdf/pdf';\nimport htmlPDF from '../../BibliotecaFunciones/HtmlPDF.js';\nimport './RelacionAlumnos.css';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass RelacionAlumnos extends Component {\n  constructor(props) {\n    //Recibiendo las propiedades del padre\n    super(props);\n    this.state = {\n      anioini: '' + this.props.anioIni,\n      //año inicial\n      aniofin: '' + this.props.anioFin,\n      //año final\n      htmlTabla: '',\n      //Html de la tabla\n      tipoGrafica: 'column',\n      tipoGraficaVerificador: this.props.graficoMF,\n      jsonGrafica: null,\n      cargoGrafica: false,\n      cargoTabla: false,\n      cargoTomadorFotos: false,\n      cargoFotos: false,\n      leyenda1: '',\n      leyenda2: '',\n      contadorLineaTabla: 0,\n      contadorTabla: 0,\n      htmlencabezado: [],\n      copiaParaPdf: [],\n      contadorCargaPaginas: 0,\n      arregloImagen: [],\n      tipoGraficaVerificador: this.props.graficoMF,\n      key: 'tabla',\n      titulo: \"Estado de permanencia en los Programas de Posgrado (General)\"\n    };\n    this.obtenerTabla = this.obtenerTabla.bind(this);\n    this.obtenerGrafica = this.obtenerGrafica.bind(this);\n    this.handleSelect = this.handleSelect.bind(this); //this.miFuncion2 = this.miFuncion2.bind(this)\n\n    this.obtenerTabla();\n    this.obtenerGrafica();\n  }\n\n  handleSelect(key) {\n    if (key == \"pdf\") {\n      if (key != this.state.key) {//alert(\"ASFSFAFS\");\n      }\n    }\n\n    this.setState({\n      key\n    });\n  } // Esta función nos permitirá obtener los datos de la tabla\n\n\n  obtenerTabla() {\n    fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/programaAlumnos?fecha_inicio=' + this.state.anioini + '&fecha_fin=' + this.state.aniofin).then(async respuesta => {\n      return await respuesta.json();\n    }).then(async resultado => {\n      console.log(resultado);\n      var htmlTabla = '';\n      var contadorTabla = 2;\n      var contadorLinea = 0;\n      const diferenciaAnios = this.state.anioini - this.state.anioini + 1;\n\n      for (var programa in resultado) {\n        var contador = 1;\n        var sumaVertical = [];\n\n        for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n          sumaVertical[i] = 0;\n        }\n\n        sumaVertical['total'] = 0;\n\n        for (var anio in resultado[programa]) {\n          if (contador == 1) {\n            htmlTabla += '<tr><td style=\"vertical-align: middle; border-bottom-width: 3px;\" rowspan=\"' + (Object.keys(resultado[programa]).length + 1) + '\">' + programa + '</td>';\n          } else {\n            htmlTabla += '<tr>';\n          }\n\n          htmlTabla += '<td style=\"border-left-width: 3px\">' + anio + '</td>';\n          contadorTabla++;\n          var sumaHorizontal = 0;\n\n          for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n            if (resultado[programa][anio][i]) {\n              sumaHorizontal += resultado[programa][anio][i];\n              sumaVertical[i] += resultado[programa][anio][i];\n            }\n          }\n\n          htmlTabla += '<td >' + sumaHorizontal + '</td>';\n          sumaVertical['total'] += sumaHorizontal;\n          htmlTabla += '</tr>';\n          contador++;\n        }\n\n        htmlTabla += '<tr><th style=\"border-bottom-width: 3px; border-left-width: 3px;\">Total</th>';\n        htmlTabla += '<th style=\"border-bottom-width: 3px\">' + sumaVertical['total'] + '</th>';\n        htmlTabla += '</tr>';\n        contadorTabla++;\n      }\n\n      contadorLinea += 11 + contadorTabla;\n      contadorLinea += diferenciaAnios * 10 + (diferenciaAnios - 1) * 2;\n\n      if (contadorLinea < 50) {\n        contadorLinea = 50 + diferenciaAnios * 10 + (diferenciaAnios - 1) * 2;\n      }\n\n      var leyenda = '';\n      leyenda += \"<hr></hr>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>DISI: Doctorado en Ingeniería de Sistemas e Informática</td></text></br>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>GTIC: Gestión de tecnología de información y comunicaciones</td></text></br>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>ISW: Ingeniería de Software</td></text></br>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>GIC: Gestión de la información y del conocimiento</td></text></br>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>GTI: Gobierno de tecnologías de información</td></text></br>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>GPTI: Gerencia de proyectos de tecnología de información</td></text></br>\";\n      leyenda += \"<text className='textLeyenda'><tr><td>ASTI: Auditoria y seguridad de tecnología de información</td></text>\";\n      var leyenda2 = '';\n      leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Activo</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>G: Graduado</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>RM: Reserva</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>INAC: Inactivo</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>AI: Ingreso anulado</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Egresado</td></text>\"; //Encabezado (Logo UNMSM)\n\n      let encabezado = [];\n      await encabezado.push(React.createElement(\"div\", {\n        class: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"unmsmIMagen.png\",\n        height: \"240\",\n        width: \"180\",\n        style: {\n          marginLeft: 60,\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"col-md-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"unmsmTitulo.png\",\n        height: \"240\",\n        width: \"500\",\n        style: {\n          marginLeft: 25,\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })));\n      await this.setState({\n        htmlTabla: htmlTabla,\n        leyenda1: leyenda,\n        leyenda2: leyenda2,\n        cargoTabla: true,\n        contadorLineaTabla: contadorLinea,\n        contadorTabla: contadorTabla,\n        htmlencabezado: encabezado\n      });\n    });\n  }\n\n  obtenerGrafica() {\n    fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/demandaInversa?fecha_inicio=' + this.state.anioini + '&fecha_fin=' + this.state.aniofin).then(async response => {\n      return await response.json();\n    }).then(async resultado => {\n      var arregloData = [];\n      var bandera = true;\n      var anioInicioRelativo;\n      var anioUltimoRelativo;\n\n      for (var anio in resultado) {\n        if (bandera) {\n          anioInicioRelativo = anio;\n          bandera = false;\n        }\n\n        anioUltimoRelativo = anio;\n        var nuevaData = [];\n\n        for (var estado in resultado[anio]) {\n          var miniArreglo = [];\n\n          for (var tipo in resultado[anio][estado]) {\n            miniArreglo.push({\n              label: tipo,\n              y: resultado[anio][estado][tipo]\n            });\n          }\n\n          nuevaData.push({\n            type: this.state.tipoGrafica,\n            name: estado,\n            legendText: estado,\n            showInLegend: true,\n            dataPoints: miniArreglo\n          });\n        }\n\n        arregloData.push(React.createElement(\"div\", {\n          class: \"row align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"col col-md-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(CanvasJSChart, {\n          style: {\n            marginBottom: 50,\n            width: '100%'\n          },\n          options: {\n            animationEnabled: true,\n            title: {\n              text: \"Estado de Permanencia - \" + anio,\n              fontFamily: \"Encode Sans Semi Expanded\",\n              //fontSize: 30,\n              fontColor: \"#4C4C4C\",\n              fontWeight: \"normal\"\n            },\n            subtitles: [{\n              text: \" . \",\n              fontSize: 20,\n              fontColor: 'white'\n            }],\n            axisX: {\n              title: \"Programas\",\n              titleFontFamily: \"Encode Sans Semi Expanded\",\n              //titleFontColor: \"#4F81BC\",\n              titleFontColor: \"#4C4C4C\",\n              //lineColor: \"#4F81BC\",\n              lineColor: \"#4C4C4C\",\n              //labelFontColor: \"#4F81BC\",\n              labelFontColor: \"#4C4C4C\",\n              //tickColor: \"#4F81BC\",\n              tickColor: \"#4C4C4C\"\n            },\n            axisY: {\n              title: \"Número de Alumnos\",\n              titleFontFamily: \"Encode Sans Semi Expanded\",\n              //titleFontColor: \"#4F81BC\",\n              titleFontColor: \"#4C4C4C\",\n              //lineColor: \"#4F81BC\",\n              lineColor: \"#4C4C4C\",\n              //labelFontColor: \"#4F81BC\",\n              labelFontColor: \"#4C4C4C\",\n              //tickColor: \"#4F81BC\",\n              tickColor: \"#4C4C4C\",\n              interlacedColor: \"#F7F7F7\"\n            },\n            toolTip: {\n              shared: true\n            },\n            legend: {\n              cursor: \"pointer\",\n              fontFamily: \"Encode Sans Semi Expanded\",\n              fontWeight: \"normal\"\n            },\n            data: nuevaData\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }))));\n      }\n\n      await this.setState({\n        jsonGrafica: arregloData,\n        cargoGrafica: true\n      });\n    });\n  }\n\n  render() {\n    // alert(htmlAFoto);\n    //console.log(htmlAFoto);\n    if (this.state.cargoTabla && this.state.cargoGrafica && !this.state.cargoTomadorFotos && this.state.key == \"pdf\") {\n      setTimeout(() => {\n        htmlPDF(this.state.contadorLineaTabla, this.state.contadorTabla, null, this.state.htmlTabla, this.state.leyenda1, this.state.leyenda2, this.state.htmlencabezado, this.props.anioIni, this.props.anioIni, this.state.jsonGrafica, this.props.anioFin, null, null, this.state.titulo).then(async x => {\n          this.setState({\n            copiaParaPdf: x,\n            cargoTomadorFotos: true\n          }, () => {\n            setTimeout(async () => {\n              //const input2 = document.getElementById('graficax');\n              var arregloImagen = [];\n\n              for (var i = 1; i <= this.state.copiaParaPdf.length; i++) {\n                const input2 = await document.getElementById('imagenPdf' + i);\n                await html2canvas(input2).then(async canvas2 => {\n                  const imgData2 = await canvas2.toDataURL('image/png'); //console.log(imgData2);\n\n                  await arregloImagen.push({\n                    imagen: imgData2,\n                    orden: i\n                  });\n                  await this.setState({\n                    contadorCargaPaginas: this.state.contadorCargaPaginas + 1\n                  }, () => {\n                    if (this.state.contadorCargaPaginas == this.state.copiaParaPdf.length) {\n                      setTimeout(async () => {\n                        this.setState({\n                          arregloImagen: arregloImagen,\n                          cargoFotos: true,\n                          //imagen2: arregloImagen,\n                          //cargoImagen2: true,\n                          //isChartLoaded: false,\n                          contadorCargaPaginas: 0\n                        }, () => {\n                          this.setState({\n                            cargoFotos: true\n                          });\n                        });\n                      }, 3000);\n                    }\n                  });\n                });\n              }\n            }, 3000);\n          });\n        });\n      }, 3000);\n    }\n\n    const aI = this.props.anioIni;\n    const aF = this.props.anioFin;\n\n    if (this.state.key == \"pdf\" && !this.state.cargoFotos) {\n      document.body.classList.add(\"oculto\");\n    } else {\n      document.body.classList.remove(\"oculto\");\n    }\n\n    if (this.props.anioFin != this.state.aniofin || this.props.anioIni != this.state.anioini || this.state.tipoGraficaVerificador != this.props.graficoMF) {\n      var tipoCadena = '';\n\n      if (this.props.graficoMF == \"columnasMultiples\") {\n        tipoCadena = 'column';\n      } else if (this.props.graficoMF == \"barrasHMultiples\") {\n        tipoCadena = 'bar';\n      } else if (this.props.graficoMF == \"splineMultiple\") {\n        tipoCadena = 'spline';\n      }\n\n      this.setState({\n        aniofin: this.props.anioFin,\n        anioini: this.props.anioIni,\n        tipoGraficaVerificador: this.props.graficoMF,\n        tipoGrafica: tipoCadena,\n        cargoGrafica: false,\n        cargoTabla: false,\n        cargoTomadorFotos: false,\n        cargoFotos: false\n      }, async () => {\n        this.obtenerTabla();\n        this.obtenerGrafica();\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      activeKey: this.state.key,\n      onSelect: key => this.handleSelect(key),\n      align: \"center\",\n      className: \"textTab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"tabla\",\n      title: \"Tabla\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      style: {\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"textTitulo\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, this.state.titulo)), React.createElement(\"div\", {\n      className: \"textTitulo col-md-12\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"Espacio Temporal: \", aI == aF ? aI : aI + \" al \" + aF))), React.createElement(\"div\", {\n      className: \"panel-body\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-10\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-bordered TablaEstadisticaAzul\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \"Programa\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, \"Estado\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, \"Total\")), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, Parser(this.state.htmlTabla))))), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      style: {\n        marginLeft: 10,\n        fontSize: 13\n      },\n      className: \"textSubtitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, \"Leyenda: \"), Parser(this.state.leyenda1)))))), React.createElement(Tab, {\n      eventKey: \"grafica\",\n      title: \"Gr\\xE1fica\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      style: {\n        marginLeft: 10,\n        marginTop: 20\n      },\n      className: \"textTitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"Gr\\xE1ficas: \"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    })), this.state.cargoGrafica ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel-body col-md-7 mr-md-auto ml-md-auto\",\n      style: {\n        marginBottom: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, this.state.jsonGrafica)) : null)), React.createElement(Tab, {\n      eventKey: \"pdf\",\n      title: \"PDF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos ? {\n        display: 'none'\n      } : null,\n      className: \"panel-heading col col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"col col-md-2\",\n      style: {\n        textAlign: \"center\",\n        marginTop: 180\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"spiner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"ball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"ball1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"col col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"col col-md-12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, \"Cargando...\")), this.state.cargoFotos ? React.createElement(\"h4\", {\n      style: {\n        marginLeft: 60\n      },\n      className: \"textTitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, \"Visualizar PDF\") : null)), React.createElement(\"div\", {\n      className: \"panel-body col-md-11 mr-md-auto ml-md-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }, this.state.cargoFotos ? React.createElement(Pdf, {\n      imagen2: this.state.arregloImagen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }) : null)), React.createElement(\"div\", {\n      style: this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos ? {\n        display: 'none'\n      } : {\n        marginTop: 500\n      },\n      id: \"copia\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, this.state.copiaParaPdf))));\n  }\n\n}\n\nexport default RelacionAlumnos;","map":{"version":3,"sources":["C:\\Users\\TicowST\\Desktop\\TCS03\\sigapdev-reports-front-master\\src\\ComponentesHechos\\RelacionAlumnos\\RelacionAlumnos.js"],"names":["React","Component","Tabs","Tab","CanvasJSReact","CanvasJS","Parser","html2canvas","Pdf","htmlPDF","CanvasJSChart","RelacionAlumnos","constructor","props","state","anioini","anioIni","aniofin","anioFin","htmlTabla","tipoGrafica","tipoGraficaVerificador","graficoMF","jsonGrafica","cargoGrafica","cargoTabla","cargoTomadorFotos","cargoFotos","leyenda1","leyenda2","contadorLineaTabla","contadorTabla","htmlencabezado","copiaParaPdf","contadorCargaPaginas","arregloImagen","key","titulo","obtenerTabla","bind","obtenerGrafica","handleSelect","setState","fetch","then","respuesta","json","resultado","console","log","contadorLinea","diferenciaAnios","programa","contador","sumaVertical","i","anio","Object","keys","length","sumaHorizontal","leyenda","encabezado","push","marginLeft","marginTop","response","arregloData","bandera","anioInicioRelativo","anioUltimoRelativo","nuevaData","estado","miniArreglo","tipo","label","y","type","name","legendText","showInLegend","dataPoints","marginBottom","width","animationEnabled","title","text","fontFamily","fontColor","fontWeight","subtitles","fontSize","axisX","titleFontFamily","titleFontColor","lineColor","labelFontColor","tickColor","axisY","interlacedColor","toolTip","shared","legend","cursor","data","render","setTimeout","x","input2","document","getElementById","canvas2","imgData2","toDataURL","imagen","orden","aI","aF","body","classList","add","remove","tipoCadena","alignItems","justifyContent","display","textAlign"],"mappings":"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","sourcesContent":["//Importamos las librerias\nimport React, { Component } from 'react';\nimport {Tabs, Tab} from 'react-bootstrap';\nimport CanvasJSReact, {CanvasJS} from './../../canvasjs.react';\nimport Parser from 'html-react-parser';\nimport html2canvas from 'html2canvas';\nimport Pdf from '../Pdf/pdf';\nimport htmlPDF from '../../BibliotecaFunciones/HtmlPDF.js';\nimport './RelacionAlumnos.css';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\n\n\nclass RelacionAlumnos extends Component {\n\n    constructor(props){\n        //Recibiendo las propiedades del padre\n        super(props);\n        this.state = {\n            anioini : ''+this.props.anioIni, //año inicial\n            aniofin : ''+this.props.anioFin, //año final\n            htmlTabla : '',   //Html de la tabla\n            tipoGrafica: 'column',\n            tipoGraficaVerificador: this.props.graficoMF,\n            jsonGrafica: null,\n            cargoGrafica: false,\n            cargoTabla: false,\n            cargoTomadorFotos: false,\n            cargoFotos: false,\n            leyenda1: '',\n            leyenda2: '',\n            contadorLineaTabla: 0,\n            contadorTabla: 0,\n            htmlencabezado: [],\n            copiaParaPdf: [],\n            contadorCargaPaginas:0,\n            arregloImagen:[],\n            tipoGraficaVerificador: this.props.graficoMF,\n            key: 'tabla',\n            titulo: \"Estado de permanencia en los Programas de Posgrado (General)\"\n        };\n        this.obtenerTabla = this.obtenerTabla.bind(this);\n        this.obtenerGrafica = this.obtenerGrafica.bind(this);\n        this.handleSelect = this.handleSelect.bind(this);\n\n        //this.miFuncion2 = this.miFuncion2.bind(this)\n\n        this.obtenerTabla();\n        this.obtenerGrafica();\n    }\n\n    handleSelect(key) {\n        if(key==\"pdf\"){\n            if(key!=this.state.key){\n                //alert(\"ASFSFAFS\");\n            }\n        }\n        this.setState({key});\n    }\n\n    // Esta función nos permitirá obtener los datos de la tabla\n    obtenerTabla(){\n        fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/programaAlumnos?fecha_inicio='+this.state.anioini+'&fecha_fin='+this.state.aniofin)\n        .then(async (respuesta) => {\n            return await respuesta.json();\n        })\n        .then(async(resultado)=>{\n            console.log(resultado);\n            var htmlTabla = ''; \n            var contadorTabla = 2;\n            var contadorLinea = 0;\n            const diferenciaAnios = this.state.anioini - this.state.anioini + 1;\n            for(var programa in resultado){\n                var contador = 1;\n                var sumaVertical = [];\n                for(var i = this.state.anioini;i<=this.state.aniofin;i++){\n                    sumaVertical[i] = 0;\n                }\n                sumaVertical['total']=0;\n                \n                for(var anio in resultado[programa]){\n                    \n                    if(contador==1){\n                        htmlTabla += '<tr><td style=\"vertical-align: middle; border-bottom-width: 3px;\" rowspan=\"'+(Object.keys(resultado[programa]).length+1)+'\">'+programa+'</td>';\n                    }else{\n                        htmlTabla += '<tr>';\n                    }\n                     \n                    htmlTabla += '<td style=\"border-left-width: 3px\">'+anio+'</td>';\n                    contadorTabla++;\n                    var sumaHorizontal =0;\n                    \n                    for(var i = this.state.anioini;i<=this.state.aniofin;i++){\n                        if(resultado[programa][anio][i]){\n                            sumaHorizontal += resultado[programa][anio][i];\n                            sumaVertical[i] += resultado[programa][anio][i];\n                        }\n                    }\n                    htmlTabla+='<td >'+sumaHorizontal+'</td>';\n                    sumaVertical['total']+=sumaHorizontal;\n                    htmlTabla+='</tr>';\n                    contador++;\n                }\n                htmlTabla += '<tr><th style=\"border-bottom-width: 3px; border-left-width: 3px;\">Total</th>';\n                htmlTabla +='<th style=\"border-bottom-width: 3px\">'+sumaVertical['total']+'</th>'\n                htmlTabla +='</tr>';\n                contadorTabla++;\n            }\n            \n            contadorLinea += 11 + contadorTabla;\n            contadorLinea += diferenciaAnios * 10 + (diferenciaAnios - 1) * 2;\n            if (contadorLinea < 50) {\n                contadorLinea = 50 + diferenciaAnios * 10 + (diferenciaAnios - 1) * 2;\n            }\n\n            var leyenda = '';\n            leyenda += \"<hr></hr>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>DISI: Doctorado en Ingeniería de Sistemas e Informática</td></text></br>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>GTIC: Gestión de tecnología de información y comunicaciones</td></text></br>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>ISW: Ingeniería de Software</td></text></br>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>GIC: Gestión de la información y del conocimiento</td></text></br>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>GTI: Gobierno de tecnologías de información</td></text></br>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>GPTI: Gerencia de proyectos de tecnología de información</td></text></br>\";\n            leyenda += \"<text className='textLeyenda'><tr><td>ASTI: Auditoria y seguridad de tecnología de información</td></text>\";\n\n            var leyenda2 = '';\n            leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Activo</td></text></br>\";\n            leyenda2 += \"<text className='textLeyenda'><tr><td>G: Graduado</td></text></br>\";\n            leyenda2 += \"<text className='textLeyenda'><tr><td>RM: Reserva</td></text></br>\";\n            leyenda2 += \"<text className='textLeyenda'><tr><td>INAC: Inactivo</td></text></br>\";\n            leyenda2 += \"<text className='textLeyenda'><tr><td>AI: Ingreso anulado</td></text></br>\";\n            leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Egresado</td></text>\";\n\n            //Encabezado (Logo UNMSM)\n            let encabezado = []\n            await encabezado.push(\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-md-3\">\n                        <img src=\"unmsmIMagen.png\" height=\"240\" width='180' style={{ marginLeft: 60, marginTop: 20 }} />\n                    </div>\n                    <div class=\"col-md-7\">\n                        <img src=\"unmsmTitulo.png\" height=\"240\" width='500' style={{ marginLeft: 25, marginTop: 10 }} />\n                    </div>\n                    <div class=\"col-md-2\">\n                    </div>\n                </div>\n            );\n\n            await this.setState({\n                htmlTabla:htmlTabla,\n                leyenda1: leyenda,\n                leyenda2: leyenda2,\n                cargoTabla:true,\n                contadorLineaTabla: contadorLinea,\n                contadorTabla: contadorTabla,\n                htmlencabezado: encabezado\n            });\n\n        });\n           \n    }\n\n    obtenerGrafica(){\n        fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/demandaInversa?fecha_inicio='+this.state.anioini+'&fecha_fin='+this.state.aniofin)\n        .then(async (response) => {\n            return await response.json();\n        })\n        .then(async (resultado) => {\n            var arregloData = [];\n            var bandera = true;\n            var anioInicioRelativo; \n            var anioUltimoRelativo;\n            for(var anio in resultado){\n                if(bandera){\n                    anioInicioRelativo = anio;\n                    bandera = false;\n                }\n                anioUltimoRelativo = anio;\n                var nuevaData = [];\n\n                for(var estado in resultado[anio]){\n                    var miniArreglo = [];\n                    for(var tipo in resultado[anio][estado]){\n                        miniArreglo.push({ label: tipo, y: resultado[anio][estado][tipo] });\n                    }\n                    nuevaData.push({\n                        type: this.state.tipoGrafica,\n                        name: estado,\n                        legendText: estado,\n                        showInLegend: true, \n                        dataPoints:miniArreglo\n                    });\n                }\n\n                arregloData.push(\n                    <div class=\"row align-items-center\">\n                        <div class=\"col col-md-12\">\n                            <CanvasJSChart style={{marginBottom: 50,width:'100%'}} options = {{\n                                animationEnabled: true,\n                                title:{\n                                    text: \"Estado de Permanencia - \"+ anio,\n                                    fontFamily: \"Encode Sans Semi Expanded\",\n                                    //fontSize: 30,\n                                    fontColor: \"#4C4C4C\",\n                                    fontWeight: \"normal\",\n                                },\n                                subtitles:[\n                                    {\n                                        text: \" . \",\n                                        fontSize: 20,\n                                        fontColor:'white'\n                                    }\n                                ],\n                                axisX:{\n                                    title: \"Programas\",\n                                    titleFontFamily: \"Encode Sans Semi Expanded\",\n                                    //titleFontColor: \"#4F81BC\",\n                                    titleFontColor: \"#4C4C4C\",\n                                    //lineColor: \"#4F81BC\",\n                                    lineColor: \"#4C4C4C\",\n                                    //labelFontColor: \"#4F81BC\",\n                                    labelFontColor: \"#4C4C4C\",\n                                    //tickColor: \"#4F81BC\",\n                                    tickColor: \"#4C4C4C\",\n                                },\t\n                                axisY: {\n                                    title: \"Número de Alumnos\",\n                                    titleFontFamily: \"Encode Sans Semi Expanded\",\n                                    //titleFontColor: \"#4F81BC\",\n                                    titleFontColor: \"#4C4C4C\",\n                                    //lineColor: \"#4F81BC\",\n                                    lineColor: \"#4C4C4C\",\n                                    //labelFontColor: \"#4F81BC\",\n                                    labelFontColor: \"#4C4C4C\",\n                                    //tickColor: \"#4F81BC\",\n                                    tickColor: \"#4C4C4C\",\n                                    interlacedColor: \"#F7F7F7\",\n                                },\t\n                                toolTip: {\n                                    shared: true\n                                },\n                                legend: {\n                                    cursor:\"pointer\",\n                                    fontFamily: \"Encode Sans Semi Expanded\",\n                                    fontWeight: \"normal\",\n                                },\n                                data: nuevaData\n                            }} />\n                        </div>\n                            \n                    </div>\n                );\n            }\n            await this.setState({\n                jsonGrafica:arregloData,\n                cargoGrafica:true\n            })\n\n        });\n    }\n\n    render() {\n        // alert(htmlAFoto);\n        //console.log(htmlAFoto);\n        \n        if(this.state.cargoTabla && this.state.cargoGrafica && !this.state.cargoTomadorFotos && this.state.key==\"pdf\"){\n            setTimeout(() => {\n                \n                htmlPDF(this.state.contadorLineaTabla,this.state.contadorTabla,null, this.state.htmlTabla,this.state.leyenda1, this.state.leyenda2,this.state.htmlencabezado,this.props.anioIni,this.props.anioIni,this.state.jsonGrafica,this.props.anioFin, null, null, this.state.titulo).then(async(x) => {\n                    \n                    this.setState({\n                        copiaParaPdf:x,\n                        cargoTomadorFotos:true\n                    },()=>{\n                        setTimeout(async () => {\n                            //const input2 = document.getElementById('graficax');\n                            var arregloImagen = [];\n                            for (var i = 1; i <= this.state.copiaParaPdf.length; i++) {\n                                const input2 = await document.getElementById('imagenPdf'+i);\n                                \n                                await html2canvas(input2)\n                                    .then(async (canvas2) => {\n                                        const imgData2 = await canvas2.toDataURL('image/png');\n                                        //console.log(imgData2);\n                                        \n                                        await arregloImagen.push({ imagen: imgData2, orden: i });\n                                        await this.setState({\n                                            contadorCargaPaginas: this.state.contadorCargaPaginas + 1\n                                        }, () => {\n                                            if (this.state.contadorCargaPaginas == this.state.copiaParaPdf.length) {\n                                                setTimeout(async () => {\n                                                    this.setState({\n                                                        arregloImagen: arregloImagen,\n                                                        cargoFotos:true,\n                                                        //imagen2: arregloImagen,\n                                                        //cargoImagen2: true,\n                                                        //isChartLoaded: false,\n                                                        contadorCargaPaginas: 0\n                                                    },()=>{\n                                                        this.setState({\n                                                            cargoFotos: true\n                                                        })\n                                                    });\n                                                    \n                                                }, 3000);\n                                            }\n                                        });\n        \n        \n                                    });\n                            }\n        \n                        }, 3000);\n                    });\n                });\n            },3000);\n            \n        }\n\n        \n        \n        const aI = this.props.anioIni;\n        const aF = this.props.anioFin;\n        if(this.state.key==\"pdf\"&&!this.state.cargoFotos){\n            document.body.classList.add(\"oculto\");\n        }else{\n            document.body.classList.remove(\"oculto\");\n        }\n\n        if (this.props.anioFin != this.state.aniofin || this.props.anioIni != this.state.anioini || this.state.tipoGraficaVerificador != this.props.graficoMF) {\n            var tipoCadena = '';\n            if (this.props.graficoMF == \"columnasMultiples\") {\n                tipoCadena = 'column';\n            } else if (this.props.graficoMF == \"barrasHMultiples\") {\n                tipoCadena = 'bar';\n            } else if (this.props.graficoMF == \"splineMultiple\") {\n                tipoCadena = 'spline';\n            }\n\n            this.setState({\n                aniofin: this.props.anioFin,\n                anioini: this.props.anioIni,\n                tipoGraficaVerificador: this.props.graficoMF,\n                tipoGrafica: tipoCadena,\n                cargoGrafica: false,\n                cargoTabla: false,\n                cargoTomadorFotos: false,\n                cargoFotos: false\n\n            }, async () => {\n                this.obtenerTabla();\n                this.obtenerGrafica();\n            });\n        }\n\n        return (\n            <div>\n                <Tabs activeKey={this.state.key} onSelect={key => this.handleSelect(key)} align=\"center\" className=\"textTab\" >\n                    <Tab eventKey=\"tabla\" title=\"Tabla\">\n                        {/* Aca ponemos la tabla */}\n                        <div class=\"panel\">\n                            <div class=\"panel-heading\"  >\n                                <div  class=\"row\" style={{alignItems:'center', justifyContent:'center', marginTop:20}}>\n                                    <div className=\"col-md-12 \">\n                                        <h5 className=\"textTitulo\" align=\"center\">{this.state.titulo}</h5>\n                                    </div>\n                                    <div className=\"textTitulo col-md-12\" align=\"center\" >Espacio Temporal: {aI==aF?aI:aI+\" al \"+aF}</div>\n                                </div>\n                            </div>\n                            <div className=\"panel-body\" style={{marginTop:20}}>\n                                <div class=\"row\">\n                                    <div className=\"col-md-1\"></div>\n                                    <div className=\"col-md-10\" style={{marginTop:20}}>\n                                        <table className=\"table table-bordered TablaEstadisticaAzul\">\n                                            <thead>\n                                                \n                                                <th>Programa</th>\n                                                <th>Estado</th>\n                                                <th>Total</th>\n                                                \n                                            </thead>\n                                            <tbody>\n\n                                                { Parser(this.state.htmlTabla) }\n\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div className=\"col col-md-1\"></div>\n                                    <div className=\"col col-md-10\">\n                                        <hr></hr>\n                                        <h5 style={{marginLeft:10, fontSize:13}} className=\"textSubtitulo\">Leyenda: </h5> \n                                        {Parser(this.state.leyenda1)} \n                                    </div> \n                                </div>\n                            </div>\n                        </div>\n                    </Tab>\n                    <Tab eventKey=\"grafica\" title=\"Gráfica\">\n                        {/* Aca ponemos la gráfica */}\n                        <div class=\"container\">\n                            <div className=\"row\" >\n                                <h5 style={{marginLeft:10, marginTop:20}} className=\"textTitulo\">Gráficas: </h5>\n                                <hr></hr>\n                            </div>\n                            {this.state.cargoGrafica ?<div className=\"row\" >\n                                <div class=\"panel-body col-md-7 mr-md-auto ml-md-auto\" style={{ marginBottom: 50 }}>\n                                    {this.state.jsonGrafica}\n                                </div>\n                            </div> : null} \n                        </div>\n                    </Tab>\n                    <Tab eventKey=\"pdf\" title=\"PDF\">\n                    \n                        <div className=\"panel row align-items-center\" >\n                            \n                            <div style={this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos ?{ display: 'none' }  : null} className=\"panel-heading col col-md-12\">\n                                <div class=\"row\">\n                                    <div class=\"col col-md-5\"></div>\n                                    <div class=\"col col-md-2\" style={{textAlign:\"center\",marginTop:180}}>\n                                        <div class=\"spiner\">\n                                            <div class=\"ball\"></div>\n                                            <div class=\"ball1\"></div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col col-md-5\"></div>\n                                    <div class=\"col col-md-12\" style={{textAlign:\"center\"}}>\n                                        <h1>Cargando...</h1>\n                                    </div>\n                                    {this.state.cargoFotos ?\n                                        <h4 style={{ marginLeft: 60 }} className=\"textTitulo\">Visualizar PDF</h4>\n                                    : null}\n                                </div>\n                                \n                            </div>\n                            <div className=\"panel-body col-md-11 mr-md-auto ml-md-auto\">\n                                {this.state.cargoFotos ?\n                                    <Pdf imagen2={this.state.arregloImagen}></Pdf> \n                                : null}\n                            </div>\n                        </div>\n\n                        <div style={this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos  ?  { display: 'none' }: { marginTop: 500 }} id=\"copia\">\n                            {this.state.copiaParaPdf}\n                        </div>\n                        \n                    </Tab>\n                    \n                </Tabs>\n\n                \n                \n                    \n            </div>\n        )\n    }\n}\nexport default RelacionAlumnos;\n"]},"metadata":{},"sourceType":"module"}