{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TicowST\\\\Desktop\\\\TCS03\\\\sigapdev-reports-front-master\\\\src\\\\ComponentesHechos\\\\EstadoPermanencia\\\\EstadoPermanencia.js\";\n\n/* App.js */\nimport React, { Component } from 'react';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport CanvasJSReact, { CanvasJS } from '../../canvasjs.react';\nimport Parser from 'html-react-parser';\nimport Pdf from '../Pdf/pdf';\nimport html2canvas from 'html2canvas';\nimport htmlPDF from '../../BibliotecaFunciones/HtmlPDF.js';\nimport { pdf } from '@react-pdf/renderer'; //import './EstadoPermanencia.css';\n\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass EstadoPermanencia extends Component {\n  constructor(props) {\n    //constructor inicial\n    super(props);\n    this.state = {\n      anioini: '' + this.props.anioIni,\n      //año inicial\n      aniofin: '' + this.props.anioFin,\n      //año final\n      htmlTabla: '',\n      //Html de la tabla\n      miHtml: '',\n      tipoGrafica: 'column',\n      tipoGraficaVerificador: this.props.graficoMF,\n      jsonGrafica: null,\n      cargoGrafica: false,\n      cargoTabla: false,\n      cargoTomadorFotos: false,\n      cargoFotos: false,\n      leyenda1: '',\n      leyenda2: '',\n      contadorLineaTabla: 0,\n      contadorTabla: 0,\n      htmlencabezado: [],\n      copiaParaPdf: [],\n      contadorCargaPaginas: 0,\n      arregloImagen: [],\n      tipoGraficaVerificador: this.props.graficoMF,\n      key: 'tabla',\n      titulo: \"Estado de permanencia en los Programas de Posgrado (General)\"\n    };\n    this.obtenerTabla = this.obtenerTabla.bind(this);\n    this.obtenerGrafica = this.obtenerGrafica.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.obtenerTabla();\n    this.obtenerGrafica();\n  }\n\n  handleSelect(key) {\n    this.setState({\n      key\n    });\n  }\n\n  obtenerTabla() {\n    fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/programaAlumnos?fecha_inicio=' + this.state.anioini + '&fecha_fin=' + this.state.aniofin) //hace el llamado al dominio que se le envió donde retornara respuesta de la funcion\n    .then(async response => {\n      return await response.json();\n    }).then(async result => {\n      var cadena = '';\n      var cadena2 = '';\n      var leyenda = \"\";\n      var leyenda2 = \"\";\n      var contadorLeyenda = 0;\n      var contadorTabla = 2;\n      var contadorLinea = 0;\n      var diferenciaAnios = this.state.aniofin - this.state.anioini + 1;\n\n      for (var tipo in result) {\n        var contador = 1;\n        var sumaVertical = [];\n\n        for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n          sumaVertical[i] = 0;\n        }\n\n        sumaVertical['total'] = 0;\n\n        for (var anio in result[tipo]) {\n          //No eliminar el codigo entre comentarios, existe un bug misterioso\n          //contadorTabla++;\n          if (contador == 1) {\n            cadena += '<tr><td style=\"vertical-align: middle; border-bottom-width: 3px;\" rowspan=\"' + (Object.keys(result[tipo]).length + 1) + '\">' + tipo + '</td>';\n          } else {\n            cadena += '<tr>';\n          }\n\n          cadena += '<td style=\"border-left-width: 3px; border-right-width: 3px\">' + anio + '</td>';\n          contadorTabla++;\n          var sumaHorizontal = 0;\n\n          for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n            if (result[tipo][anio][i]) {\n              cadena += '<td>' + result[tipo][anio][i] + '</td>';\n              sumaHorizontal += result[tipo][anio][i];\n              sumaVertical[i] += result[tipo][anio][i];\n            } else {\n              cadena += '<td>0</td>';\n            }\n          }\n\n          cadena += '<td>' + sumaHorizontal + '</td>';\n          sumaVertical['total'] += sumaHorizontal;\n          cadena += '</tr>';\n          contador++;\n        }\n\n        cadena += '<tr><th style=\"border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px;\">Total</th>';\n\n        for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n          cadena += '<th style=\"border-bottom-width: 3px\">' + sumaVertical[i] + '</th>';\n        }\n\n        cadena += '<th style=\"border-bottom-width: 3px\">' + sumaVertical['total'] + '</th>';\n        cadena += '</tr>';\n        contadorTabla++;\n      }\n\n      for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n        cadena2 += '<th>' + i + '</th>';\n      }\n\n      contadorTabla++;\n      cadena2 += '<th>Total</th>'; //contadorLinea += 2;\n      //contadorTabla ++;\n      //Aqui se llena los datos de la leyenda\n\n      leyenda += \"<hr></hr>\";\n      contadorLeyenda += 2;\n      leyenda += \"<text className='textLeyenda'><tr><td>DISI: Doctorado en Ingeniería de Sistemas e Informática</td></text></br>\";\n      contadorLeyenda++;\n      leyenda += \"<text className='textLeyenda'><tr><td>GTIC: Gestión de tecnología de información y comunicaciones</td></text></br>\";\n      contadorLeyenda++;\n      leyenda += \"<text className='textLeyenda'><tr><td>ISW: Ingeniería de Software</td></text></br>\";\n      contadorLeyenda++;\n      leyenda += \"<text className='textLeyenda'><tr><td>GIC: Gestión de la información y del conocimiento</td></text></br>\";\n      contadorLeyenda++;\n      leyenda += \"<text className='textLeyenda'><tr><td>GTI: Gobierno de tecnologías de información</td></text></br>\";\n      contadorLeyenda++;\n      leyenda += \"<text className='textLeyenda'><tr><td>GPTI: Gerencia de proyectos de tecnología de información</td></text></br>\";\n      contadorLeyenda++;\n      leyenda += \"<text className='textLeyenda'><tr><td>ASTI: Auditoria y seguridad de tecnología de información</td></text>\";\n      contadorLeyenda++;\n      contadorLeyenda += 2;\n      leyenda += \"<hr></hr>\";\n      leyenda2 += \"<br/>\";\n      leyenda2 += \"<br/>\";\n      leyenda2 += \"<br/>\";\n      leyenda2 += \"<br/>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Activo</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>G: Graduado</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>RM: Reserva</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>INAC: Inactivo</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>AI: Ingreso anulado</td></text></br>\";\n      leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Egresado</td></text>\";\n      contadorLinea += contadorLeyenda + contadorTabla;\n      contadorLinea += diferenciaAnios * 10 + (diferenciaAnios - 1) * 2; //10: el tamaño que ocupa el grafico\n\n      if (contadorLinea < 50) {\n        contadorLinea = 50 + diferenciaAnios * 10 + (diferenciaAnios - 1) * 2;\n      } //alert(\"contador tabla linea es \"+contadorTabla);\n\n\n      let encabezado = [];\n      await encabezado.push(React.createElement(\"div\", {\n        class: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"unmsmIMagen.png\",\n        height: \"240\",\n        width: \"180\",\n        style: {\n          marginLeft: 60,\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"col-md-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"unmsmTitulo.png\",\n        height: \"240\",\n        width: \"500\",\n        style: {\n          marginLeft: 25,\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }))); //console.log(result);\n\n      await this.setState({\n        miHtml: cadena2,\n        htmlTabla: cadena,\n        leyenda1: leyenda,\n        leyenda2: leyenda2,\n        contadorLineaTabla: contadorLinea,\n        contadorTabla: contadorTabla,\n        cargoTabla: true,\n        htmlencabezado: encabezado\n      });\n    });\n  }\n\n  obtenerGrafica() {\n    fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/programaAlumnosInverso?fecha_inicio=' + this.state.anioini + '&fecha_fin=' + this.state.aniofin).then(async response => {\n      return await response.json();\n    }).then(async resultado => {\n      var arregloData = [];\n      var bandera = false;\n      var anioInicioRelativo;\n      var anioUltimoRelativo;\n\n      for (var anio in resultado) {\n        if (bandera) {\n          anioInicioRelativo = anio;\n          bandera = false;\n        }\n\n        anioUltimoRelativo = anio;\n        var nuevaData = [];\n\n        for (var estado in resultado[anio]) {\n          var miniArreglo = [];\n\n          for (var tipo in resultado[anio][estado]) {\n            miniArreglo.push({\n              label: tipo,\n              y: resultado[anio][estado][tipo]\n            });\n          }\n\n          nuevaData.push({\n            type: this.state.tipoGrafica,\n            name: estado,\n            legendText: estado,\n            showInLegend: true,\n            dataPoints: miniArreglo\n          });\n        }\n\n        arregloData.push( //<div class=\"panel row align-items-center\">\n        React.createElement(\"div\", {\n          style: {\n            marginBottom: 50\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(CanvasJSChart, {\n          style: {\n            marginBottom: 50,\n            width: '100%'\n          },\n          options: {\n            animationEnabled: true,\n            theme: \"light1\",\n            //\"light1\", \"dark1\", \"dark2\"\n            title: {\n              text: \"Estado de Permanencia - \" + anio,\n              fontFamily: \"Encode Sans Semi Expanded\",\n              //fontSize: 30,\n              fontColor: \"#4C4C4C\",\n              fontWeight: \"normal\"\n            },\n            subtitles: [{\n              text: \" . \",\n              fontSize: 20,\n              fontColor: 'white'\n            }],\n            axisX: {\n              title: \"Programas\",\n              titleFontFamily: \"Encode Sans Semi Expanded\",\n              //titleFontColor: \"#4F81BC\",\n              titleFontColor: \"#4C4C4C\",\n              //lineColor: \"#4F81BC\",\n              lineColor: \"#4C4C4C\",\n              //labelFontColor: \"#4F81BC\",\n              labelFontColor: \"#4C4C4C\",\n              //tickColor: \"#4F81BC\",\n              tickColor: \"#4C4C4C\"\n            },\n            axisY: {\n              title: \"Número de Alumnos\",\n              titleFontFamily: \"Encode Sans Semi Expanded\",\n              //titleFontColor: \"#4F81BC\",\n              titleFontColor: \"#4C4C4C\",\n              //lineColor: \"#4F81BC\",\n              lineColor: \"#4C4C4C\",\n              //labelFontColor: \"#4F81BC\",\n              labelFontColor: \"#4C4C4C\",\n              //tickColor: \"#4F81BC\",\n              tickColor: \"#4C4C4C\",\n              interlacedColor: \"#F7F7F7\"\n            },\n            toolTip: {\n              shared: true\n            },\n            legend: {\n              cursor: \"pointer\",\n              fontFamily: \"Encode Sans Semi Expanded\",\n              fontWeight: \"normal\"\n            },\n            data: nuevaData\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        })) //</div>\n        );\n      }\n\n      await this.setState({\n        jsonGrafica: arregloData,\n        cargoGrafica: true\n      });\n    });\n  }\n\n  render() {\n    const aI = this.props.anioIni;\n    const aF = this.props.anioFin;\n\n    if (this.state.key == \"pdf\" && !this.state.cargoFotos) {\n      document.body.classList.add(\"oculto\");\n    } else {\n      document.body.classList.remove(\"oculto\");\n    }\n\n    if (this.props.anioFin != this.state.aniofin || this.props.anioIni != this.state.anioini || this.state.tipoGraficaVerificador != this.props.graficoMF) {\n      var tipoCadena = '';\n\n      if (this.props.graficoMF == \"columnasMultiples\") {\n        tipoCadena = 'column';\n      } else if (this.props.graficoMF == \"barrasHMultiples\") {\n        tipoCadena = 'bar';\n      } else if (this.props.graficoMF == \"splineMultiple\") {\n        tipoCadena = 'spline';\n      }\n\n      this.setState({\n        aniofin: this.props.anioFin,\n        anioini: this.props.anioIni,\n        tipoGraficaVerificador: this.props.graficoMF,\n        tipoGrafica: tipoCadena,\n        cargoGrafica: false,\n        cargoTabla: false,\n        cargoTomadorFotos: false,\n        cargoFotos: false\n      }, async () => {\n        this.obtenerTabla();\n        this.obtenerGrafica();\n      });\n    }\n\n    if (this.state.cargoTabla && this.state.cargoGrafica && !this.state.cargoTomadorFotos && this.state.key == \"pdf\") {\n      setTimeout(() => {\n        htmlPDF(this.state.contadorLineaTabla, this.state.contadorTabla, this.state.miHtml, this.state.htmlTabla, this.state.leyenda1, this.state.leyenda2, this.state.htmlencabezado, this.props.anioIni, this.props.anioFin, this.state.jsonGrafica, this.props.anioFin, null, null, this.state.titulo).then(async x => {\n          this.setState({\n            copiaParaPdf: x,\n            cargoTomadorFotos: true\n          }, () => {\n            setTimeout(async () => {\n              //const input2 = document.getElementById('graficax');\n              var arregloImagen = [];\n\n              for (var i = 1; i <= this.state.copiaParaPdf.length; i++) {\n                const input2 = await document.getElementById('imagenPdf' + i);\n                await html2canvas(input2).then(async canvas2 => {\n                  const imgData2 = await canvas2.toDataURL('image/png'); //console.log(imgData2);\n\n                  await arregloImagen.push({\n                    imagen: imgData2,\n                    orden: i\n                  });\n                  await this.setState({\n                    contadorCargaPaginas: this.state.contadorCargaPaginas + 1\n                  }, () => {\n                    if (this.state.contadorCargaPaginas == this.state.copiaParaPdf.length) {\n                      setTimeout(async () => {\n                        this.setState({\n                          arregloImagen: arregloImagen,\n                          cargoFotos: true,\n                          contadorCargaPaginas: 0\n                        }, () => {\n                          this.setState({\n                            cargoFotos: true\n                          });\n                        });\n                      }, 3000);\n                    }\n                  });\n                });\n              }\n            }, 3000);\n          });\n        });\n      }, 3000);\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      activeKey: this.state.key,\n      onSelect: key => this.handleSelect(key),\n      align: \"center\",\n      className: \"textTab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"tabla\",\n      title: \"Tabla\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      style: {\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"textTitulo\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, \" \", this.state.titulo)), React.createElement(\"div\", {\n      className: \"textTitulo col-md-12\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, \"Espacio Temporal: \", aI == aF ? aI : aI + \" al \" + aF))), React.createElement(\"div\", {\n      className: \"panel-body\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-10\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-bordered TablaEstadisticaAzul\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, \"Programa\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, \"Estado\"), Parser(this.state.miHtml)), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }, Parser(this.state.htmlTabla))))), React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      style: {\n        marginLeft: 10,\n        fontSize: 13\n      },\n      className: \"textSubtitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }, \"Leyenda: \"), Parser(this.state.leyenda1)))))), React.createElement(Tab, {\n      eventKey: \"grafica\",\n      title: \"Gr\\xE1fica\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      style: {\n        marginLeft: 10,\n        marginTop: 20\n      },\n      className: \"textTitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }, \"Gr\\xE1ficas: \"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    })), this.state.cargoGrafica ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"panel-body col-md-7 mr-md-auto ml-md-auto\",\n      style: {\n        marginBottom: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, this.state.jsonGrafica)) : null)), React.createElement(Tab, {\n      eventKey: \"pdf\",\n      title: \"PDF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos ? {\n        display: 'none'\n      } : null,\n      className: \"panel-heading col col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"col col-md-2\",\n      style: {\n        textAlign: \"center\",\n        marginTop: 180\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"spiner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"ball\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"ball1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"col col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"col col-md-12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"textTitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, \"Cargando...\")), this.state.cargoFotos ? React.createElement(\"h4\", {\n      style: {\n        marginLeft: 60\n      },\n      className: \"textTitulo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, \"Visualizar PDF\") : null)), React.createElement(\"div\", {\n      className: \"panel-body col-md-11 mr-md-auto ml-md-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, this.state.cargoFotos ? React.createElement(Pdf, {\n      imagen2: this.state.arregloImagen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }) : null)), React.createElement(\"div\", {\n      style: this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos ? {\n        display: 'none'\n      } : {\n        marginTop: 500\n      },\n      id: \"copia\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, this.state.copiaParaPdf))));\n  }\n\n}\n\nexport default EstadoPermanencia;","map":{"version":3,"sources":["C:\\Users\\TicowST\\Desktop\\TCS03\\sigapdev-reports-front-master\\src\\ComponentesHechos\\EstadoPermanencia\\EstadoPermanencia.js"],"names":["React","Component","Tabs","Tab","CanvasJSReact","CanvasJS","Parser","Pdf","html2canvas","htmlPDF","pdf","CanvasJSChart","EstadoPermanencia","constructor","props","state","anioini","anioIni","aniofin","anioFin","htmlTabla","miHtml","tipoGrafica","tipoGraficaVerificador","graficoMF","jsonGrafica","cargoGrafica","cargoTabla","cargoTomadorFotos","cargoFotos","leyenda1","leyenda2","contadorLineaTabla","contadorTabla","htmlencabezado","copiaParaPdf","contadorCargaPaginas","arregloImagen","key","titulo","obtenerTabla","bind","obtenerGrafica","handleSelect","setState","fetch","then","response","json","result","cadena","cadena2","leyenda","contadorLeyenda","contadorLinea","diferenciaAnios","tipo","contador","sumaVertical","i","anio","Object","keys","length","sumaHorizontal","encabezado","push","marginLeft","marginTop","resultado","arregloData","bandera","anioInicioRelativo","anioUltimoRelativo","nuevaData","estado","miniArreglo","label","y","type","name","legendText","showInLegend","dataPoints","marginBottom","width","animationEnabled","theme","title","text","fontFamily","fontColor","fontWeight","subtitles","fontSize","axisX","titleFontFamily","titleFontColor","lineColor","labelFontColor","tickColor","axisY","interlacedColor","toolTip","shared","legend","cursor","data","render","aI","aF","document","body","classList","add","remove","tipoCadena","setTimeout","x","input2","getElementById","canvas2","imgData2","toDataURL","imagen","orden","alignItems","justifyContent","display","textAlign"],"mappings":"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","sourcesContent":["/* App.js */\n\nimport React, { Component } from 'react';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport CanvasJSReact, { CanvasJS } from '../../canvasjs.react';\nimport Parser from 'html-react-parser';\nimport Pdf from '../Pdf/pdf';\nimport html2canvas from 'html2canvas';\nimport htmlPDF from '../../BibliotecaFunciones/HtmlPDF.js';\nimport { pdf } from '@react-pdf/renderer';\n//import './EstadoPermanencia.css';\n\n\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass EstadoPermanencia extends Component {\n\n    constructor(props) {//constructor inicial\n        super(props);\n        this.state = {\n            anioini : ''+this.props.anioIni, //año inicial\n            aniofin : ''+this.props.anioFin, //año final\n            htmlTabla : '',   //Html de la tabla\n            miHtml: '',\n            tipoGrafica: 'column',\n            tipoGraficaVerificador: this.props.graficoMF,\n            jsonGrafica: null,\n            cargoGrafica: false,\n            cargoTabla: false,\n            cargoTomadorFotos: false,\n            cargoFotos: false,\n            leyenda1: '',\n            leyenda2: '',\n            contadorLineaTabla: 0,\n            contadorTabla: 0,\n            htmlencabezado: [],\n            copiaParaPdf: [],\n            contadorCargaPaginas:0,\n            arregloImagen:[],\n            tipoGraficaVerificador: this.props.graficoMF,\n            key: 'tabla',\n            titulo: \"Estado de permanencia en los Programas de Posgrado (General)\"\n        };\n        this.obtenerTabla = this.obtenerTabla.bind(this);\n        this.obtenerGrafica = this.obtenerGrafica.bind(this);\n        this.handleSelect = this.handleSelect.bind(this);\n\n        this.obtenerTabla();\n        this.obtenerGrafica();\n    }\n\n    handleSelect(key) {\n        this.setState({key});\n    }\n\n\n    obtenerTabla() {\n        fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/programaAlumnos?fecha_inicio=' + this.state.anioini + '&fecha_fin=' + this.state.aniofin)//hace el llamado al dominio que se le envió donde retornara respuesta de la funcion\n            .then(async (response) => {\n                return await response.json();\n            })\n            .then(async (result) => {\n\n                var cadena = '';\n                var cadena2 = '';\n                var leyenda = \"\";\n                var leyenda2 = \"\";\n                var contadorLeyenda = 0;\n                var contadorTabla = 2;\n                var contadorLinea = 0;\n                var diferenciaAnios = this.state.aniofin - this.state.anioini + 1;\n\n                for (var tipo in result) {\n                    var contador = 1;\n                    var sumaVertical = [];\n                    for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n                        sumaVertical[i] = 0;\n                    }\n                    sumaVertical['total'] = 0;\n\n                    for (var anio in result[tipo]) {\n                        //No eliminar el codigo entre comentarios, existe un bug misterioso\n                        //contadorTabla++;\n                        if (contador == 1) {\n                            cadena += '<tr><td style=\"vertical-align: middle; border-bottom-width: 3px;\" rowspan=\"' + (Object.keys(result[tipo]).length + 1) + '\">' + tipo + '</td>';\n                        } else {\n                            cadena += '<tr>';\n                        }\n\n                        cadena += '<td style=\"border-left-width: 3px; border-right-width: 3px\">' + anio + '</td>';\n                        contadorTabla++;\n\n                        var sumaHorizontal = 0;\n\n                        for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n                            if (result[tipo][anio][i]) {\n                                cadena += '<td>' + result[tipo][anio][i] + '</td>';\n                                sumaHorizontal += result[tipo][anio][i];\n                                sumaVertical[i] += result[tipo][anio][i];\n                            } else {\n                                cadena += '<td>0</td>';\n                            }\n                        }\n                        cadena += '<td>' + sumaHorizontal + '</td>';\n                        sumaVertical['total'] += sumaHorizontal;\n                        cadena += '</tr>';\n                        contador++;\n                    }\n                    cadena += '<tr><th style=\"border-bottom-width: 3px; border-left-width: 3px; border-right-width: 3px;\">Total</th>';\n                    for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n                        cadena += '<th style=\"border-bottom-width: 3px\">' + sumaVertical[i] + '</th>';\n                    }\n                    cadena += '<th style=\"border-bottom-width: 3px\">' + sumaVertical['total'] + '</th>'\n                    cadena += '</tr>';\n\n                    contadorTabla++;\n                }\n\n                for (var i = this.state.anioini; i <= this.state.aniofin; i++) {\n                    cadena2 += '<th>' + i + '</th>';\n                }\n                contadorTabla++;\n                cadena2 += '<th>Total</th>';\n                //contadorLinea += 2;\n                //contadorTabla ++;\n                //Aqui se llena los datos de la leyenda\n\n                leyenda += \"<hr></hr>\";\n                contadorLeyenda += 2;\n                leyenda += \"<text className='textLeyenda'><tr><td>DISI: Doctorado en Ingeniería de Sistemas e Informática</td></text></br>\";\n                contadorLeyenda++;\n                leyenda += \"<text className='textLeyenda'><tr><td>GTIC: Gestión de tecnología de información y comunicaciones</td></text></br>\";\n                contadorLeyenda++;\n                leyenda += \"<text className='textLeyenda'><tr><td>ISW: Ingeniería de Software</td></text></br>\";\n                contadorLeyenda++;\n                leyenda += \"<text className='textLeyenda'><tr><td>GIC: Gestión de la información y del conocimiento</td></text></br>\";\n                contadorLeyenda++;\n                leyenda += \"<text className='textLeyenda'><tr><td>GTI: Gobierno de tecnologías de información</td></text></br>\";\n                contadorLeyenda++;\n                leyenda += \"<text className='textLeyenda'><tr><td>GPTI: Gerencia de proyectos de tecnología de información</td></text></br>\";\n                contadorLeyenda++;\n                leyenda += \"<text className='textLeyenda'><tr><td>ASTI: Auditoria y seguridad de tecnología de información</td></text>\";\n                contadorLeyenda++;\n                contadorLeyenda += 2;\n\n                leyenda += \"<hr></hr>\";\n\n                leyenda2 += \"<br/>\";\n                leyenda2 += \"<br/>\";\n                leyenda2 += \"<br/>\";\n                leyenda2 += \"<br/>\";\n                leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Activo</td></text></br>\";\n                leyenda2 += \"<text className='textLeyenda'><tr><td>G: Graduado</td></text></br>\";\n                leyenda2 += \"<text className='textLeyenda'><tr><td>RM: Reserva</td></text></br>\";\n                leyenda2 += \"<text className='textLeyenda'><tr><td>INAC: Inactivo</td></text></br>\";\n                leyenda2 += \"<text className='textLeyenda'><tr><td>AI: Ingreso anulado</td></text></br>\";\n                leyenda2 += \"<text className='textLeyenda'><tr><td>AC: Egresado</td></text>\";\n\n                contadorLinea += contadorLeyenda + contadorTabla;\n                contadorLinea += diferenciaAnios * 10 + (diferenciaAnios - 1) * 2; //10: el tamaño que ocupa el grafico\n                if (contadorLinea < 50) {\n                    contadorLinea = 50 + diferenciaAnios * 10 + (diferenciaAnios - 1) * 2;\n                }\n                //alert(\"contador tabla linea es \"+contadorTabla);\n                let encabezado = []\n                await encabezado.push(\n                    <div class=\"row justify-content-center\">\n                        <div class=\"col-md-3\">\n                            <img src=\"unmsmIMagen.png\" height=\"240\" width='180' style={{ marginLeft: 60, marginTop: 20 }} />\n                        </div>\n                        <div class=\"col-md-7\">\n                            <img src=\"unmsmTitulo.png\" height=\"240\" width='500' style={{ marginLeft: 25, marginTop: 10 }} />\n                        </div>\n                        <div class=\"col-md-2\">\n                        </div>\n                    </div>\n                );\n\n                //console.log(result);\n                await this.setState({\n                    miHtml: cadena2,\n                    htmlTabla: cadena, \n                    leyenda1: leyenda,\n                    leyenda2: leyenda2,\n                    contadorLineaTabla: contadorLinea,\n                    contadorTabla: contadorTabla,\n                    cargoTabla:true,\n                    htmlencabezado: encabezado\n                });\n\n            })\n    }\n\n    obtenerGrafica() {\n\n        fetch('https://teamrocket-reportes-backend.herokuapp.com/ApiController/programaAlumnosInverso?fecha_inicio=' + this.state.anioini + '&fecha_fin=' + this.state.aniofin)\n            .then(async (response) => {\n                return await response.json();\n            })\n            .then(async (resultado) => {\n\n                var arregloData = [];\n\n                var bandera = false;\n                var anioInicioRelativo;\n                var anioUltimoRelativo;\n\n                for(var anio in resultado){\n                    if(bandera){\n                        anioInicioRelativo = anio;\n                        bandera = false;\n                    }\n                    anioUltimoRelativo = anio;\n                    var nuevaData = [];\n    \n                    for(var estado in resultado[anio]){\n                        var miniArreglo = [];\n                        for(var tipo in resultado[anio][estado]){\n                            miniArreglo.push({ label: tipo, y: resultado[anio][estado][tipo] });\n                        }\n                        nuevaData.push({\n                            type: this.state.tipoGrafica,\n                            name: estado,\n                            legendText: estado,\n                            showInLegend: true, \n                            dataPoints:miniArreglo\n                        });\n                    }\n    \n                    arregloData.push(\n                        //<div class=\"panel row align-items-center\">\n                            <div style={{ marginBottom: 50 }}>\n                                <CanvasJSChart style={{marginBottom: 50,width:'100%'}} options = {{\n                                    animationEnabled: true,\n                                    theme: \"light1\", //\"light1\", \"dark1\", \"dark2\"\n                                    title:{\n                                        text: \"Estado de Permanencia - \"+anio,\n                                        fontFamily: \"Encode Sans Semi Expanded\",\n                                        //fontSize: 30,\n                                        fontColor: \"#4C4C4C\",\n                                        fontWeight: \"normal\",\n                                    },\n                                    subtitles:[\n                                        {\n                                            text: \" . \",\n                                            fontSize: 20,\n                                            fontColor:'white'\n                                        }\n                                        ],\n                                    axisX:{\n                                        title: \"Programas\",\n                                        titleFontFamily: \"Encode Sans Semi Expanded\",\n                                        //titleFontColor: \"#4F81BC\",\n                                        titleFontColor: \"#4C4C4C\",\n                                        //lineColor: \"#4F81BC\",\n                                        lineColor: \"#4C4C4C\",\n                                        //labelFontColor: \"#4F81BC\",\n                                        labelFontColor: \"#4C4C4C\",\n                                        //tickColor: \"#4F81BC\",\n                                        tickColor: \"#4C4C4C\",\n                                        },\t\n                                    axisY: {\n                                        title: \"Número de Alumnos\",\n                                        titleFontFamily: \"Encode Sans Semi Expanded\",\n                                        //titleFontColor: \"#4F81BC\",\n                                        titleFontColor: \"#4C4C4C\",\n                                        //lineColor: \"#4F81BC\",\n                                        lineColor: \"#4C4C4C\",\n                                        //labelFontColor: \"#4F81BC\",\n                                        labelFontColor: \"#4C4C4C\",\n                                        //tickColor: \"#4F81BC\",\n                                        tickColor: \"#4C4C4C\",\n                                        interlacedColor: \"#F7F7F7\",\n                                    },\t\n                                    toolTip: {\n                                        shared: true\n                                    },\n                                    legend: {\n                                        cursor:\"pointer\",\n                                        fontFamily: \"Encode Sans Semi Expanded\",\n                                        fontWeight: \"normal\",\n                                    },\n                                    data: nuevaData\n                                }} />\n                            </div>\n                                \n                        //</div>\n                    );\n                }\n\n                await this.setState({\n                    jsonGrafica:arregloData,\n                    cargoGrafica:true\n                })\n            })\n    }\n\n\n    render() {\n\n        const aI = this.props.anioIni;\n        const aF = this.props.anioFin;\n\n        if(this.state.key==\"pdf\"&&!this.state.cargoFotos){\n            document.body.classList.add(\"oculto\");\n        }else{\n            document.body.classList.remove(\"oculto\");\n        }\n\n        if (this.props.anioFin != this.state.aniofin || this.props.anioIni != this.state.anioini || this.state.tipoGraficaVerificador != this.props.graficoMF) {\n            var tipoCadena = '';\n            if (this.props.graficoMF == \"columnasMultiples\") {\n                tipoCadena = 'column';\n            } else if (this.props.graficoMF == \"barrasHMultiples\") {\n                tipoCadena = 'bar';\n            } else if (this.props.graficoMF == \"splineMultiple\") {\n                tipoCadena = 'spline';\n            }\n\n            this.setState({\n                aniofin: this.props.anioFin,\n                anioini: this.props.anioIni,\n                tipoGraficaVerificador: this.props.graficoMF,\n                tipoGrafica: tipoCadena,\n                cargoGrafica: false,\n                cargoTabla: false,\n                cargoTomadorFotos: false,\n                cargoFotos: false\n\n            }, async () => {\n                this.obtenerTabla();\n                this.obtenerGrafica();\n            });\n        }\n\n\n        if(this.state.cargoTabla && this.state.cargoGrafica && !this.state.cargoTomadorFotos && this.state.key==\"pdf\"){\n            setTimeout(() => {\n                \n                htmlPDF(this.state.contadorLineaTabla,this.state.contadorTabla,this.state.miHtml, this.state.htmlTabla,this.state.leyenda1, this.state.leyenda2,this.state.htmlencabezado,this.props.anioIni,this.props.anioFin,this.state.jsonGrafica,this.props.anioFin,null, null, this.state.titulo).then(async(x) => {\n                    \n                    this.setState({\n                        copiaParaPdf:x,\n                        cargoTomadorFotos:true\n                    },()=>{\n                        setTimeout(async () => {\n                            //const input2 = document.getElementById('graficax');\n                            var arregloImagen = [];\n                            for (var i = 1; i <= this.state.copiaParaPdf.length; i++) {\n                                const input2 = await document.getElementById('imagenPdf'+i);\n                                \n                                await html2canvas(input2)\n                                    .then(async (canvas2) => {\n                                        const imgData2 = await canvas2.toDataURL('image/png');\n                                        //console.log(imgData2);\n                                        \n                                        await arregloImagen.push({ imagen: imgData2, orden: i });\n                                        await this.setState({\n                                            contadorCargaPaginas: this.state.contadorCargaPaginas + 1\n                                        }, () => {\n                                            if (this.state.contadorCargaPaginas == this.state.copiaParaPdf.length) {\n                                                setTimeout(async () => {\n                                                    this.setState({\n                                                        arregloImagen: arregloImagen,\n                                                        cargoFotos:true,\n                                                        contadorCargaPaginas: 0\n                                                    },()=>{\n                                                        this.setState({\n                                                            cargoFotos: true\n                                                        })\n                                                    });\n                                                    \n                                                }, 3000);\n                                            }\n                                        });\n        \n        \n                                    });\n                            }\n        \n                        }, 3000);\n                    });\n                });\n            },3000);\n            \n        }\n\n        return (\n            <div>\n                <Tabs activeKey={this.state.key} onSelect={key => this.handleSelect(key)} align=\"center\" className=\"textTab\">\n                    <Tab eventKey=\"tabla\" title=\"Tabla\">\n                        {/* Aca ponemos la tabla */}\n                        <div class=\"panel\">\n                            <div class=\"panel-heading\"  >\n                                <div  class=\"row\" style={{alignItems:'center', justifyContent:'center', marginTop:20}}>\n                                    <div className=\"col-md-12 \">\n                                        <h5 className=\"textTitulo\" align=\"center\"> {this.state.titulo}</h5>\n                                    </div>\n                                    <div className=\"textTitulo col-md-12\" align=\"center\" >Espacio Temporal: {aI==aF?aI:aI+\" al \"+aF}</div>\n                                </div>\n                            </div>\n                            <div className=\"panel-body\" style={{marginTop:20}}>\n                                <div class=\"row\">\n                                    <div className=\"col-md-1\"></div>\n                                    <div className=\"col-md-10\" style={{marginTop:20}}>\n                                        <table className=\"table table-bordered TablaEstadisticaAzul\">\n                                            <thead>\n                                                \n                                                <th>Programa</th>\n                                                <th>Estado</th>\n                                                {Parser(this.state.miHtml)}\n                                                \n                                            </thead>\n                                            <tbody>\n\n                                                { Parser(this.state.htmlTabla) }\n\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div className=\"col col-md-1\"></div>\n                                    <div className=\"col col-md-10\">\n                                        <hr></hr>\n                                        <h5 style={{marginLeft:10, fontSize:13}} className=\"textSubtitulo\">Leyenda: </h5> \n                                        {Parser(this.state.leyenda1)} \n                                    </div> \n                                </div>\n                            </div>\n                        </div>\n                    </Tab>\n                    <Tab eventKey=\"grafica\" title=\"Gráfica\">\n                        {/* Aca ponemos la gráfica */}\n                        <div class=\"container\">\n                            <div className=\"row\" >\n                                <h5 style={{marginLeft:10, marginTop:20}} className=\"textTitulo\">Gráficas: </h5>\n                                <hr></hr>\n                            </div>\n                            {this.state.cargoGrafica ?<div className=\"row\" >\n                                <div class=\"panel-body col-md-7 mr-md-auto ml-md-auto\" style={{ marginBottom: 50 }}>\n                                    {this.state.jsonGrafica}\n                                </div>\n                            </div> : null} \n                        </div>\n                    </Tab>\n\n                    <Tab eventKey=\"pdf\" title=\"PDF\">\n                    \n                        <div className=\"panel row align-items-center\" >\n                            \n                            <div style={this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos ?{ display: 'none' }  : null} className=\"panel-heading col col-md-12\">\n                                <div class=\"row\">\n                                    <div class=\"col col-md-5\"></div>\n                                    <div class=\"col col-md-2\" style={{textAlign:\"center\",marginTop:180}}>\n                                        <div class=\"spiner\">\n                                            <div class=\"ball\"></div>\n                                            <div class=\"ball1\"></div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col col-md-5\"></div>\n                                    <div class=\"col col-md-12\" style={{textAlign:\"center\"}}>\n                                        <h1 className=\"textTitulo\">Cargando...</h1>\n                                    </div>\n                                    {this.state.cargoFotos ?\n                                        <h4 style={{ marginLeft: 60 }} className=\"textTitulo\">Visualizar PDF</h4>\n                                    : null}\n                                </div>\n                                \n                            </div>\n                            <div className=\"panel-body col-md-11 mr-md-auto ml-md-auto\">\n                                {this.state.cargoFotos ?\n                                    <Pdf imagen2={this.state.arregloImagen}></Pdf> \n                                : null}\n                            </div>\n                        </div>\n\n\n                        <div style={this.state.cargoTabla && this.state.cargoGrafica && this.state.cargoFotos  ?  { display: 'none' }: { marginTop: 500 }} id=\"copia\">\n                            {this.state.copiaParaPdf}\n                        </div>\n                        \n                    </Tab>\n                </Tabs>\n\n                \n            </div>\n        );\n    }\n}\nexport default EstadoPermanencia;\n"]},"metadata":{},"sourceType":"module"}